<div class="container mt-4">
  <h2 *ngIf="isNew">Add Trip</h2>
  <h2 *ngIf="!isNew">Edit Trip â€“ {{ trip.name }}</h2>

  <form (ngSubmit)="onSubmit()" #tripForm="ngForm">
    <div class="row">
      <div class="col-md-6">

        <div class="mb-3">
          <label class="form-label">Code</label>
          <input class="form-control"
                 name="code"
                 [(ngModel)]="trip.code"
                 [readonly]="!isNew"
                 required />
        </div>

        <div class="mb-3">
          <label class="form-label">Name</label>
          <input class="form-control"
                 name="name"
                 [(ngModel)]="trip.name"
                 required />
        </div>

        <div class="mb-3">
          <label class="form-label">Resort</label>
          <input class="form-control"
                 name="resort"
                 [(ngModel)]="trip.resort"
                 required />
        </div>

        <div class="mb-3">
          <label class="form-label">Length</label>
          <input class="form-control"
                 name="length"
                 [(ngModel)]="trip.length"
                 placeholder="7 nights"
                 required />
        </div>

        <div class="mb-3">
          <label class="form-label">Start Date</label>
          <input type="date"
                 class="form-control"
                 name="start"
                 [(ngModel)]="trip.start"
                 required />
        </div>

        <div class="mb-3">
          <label class="form-label">Price Per Person</label>
          <input class="form-control"
                 name="perPerson"
                 [(ngModel)]="trip.perPerson"
                 placeholder="$999.99"
                 required />
        </div>

      </div>

      <div class="col-md-6">
        <div class="mb-3">
          <label class="form-label">Image URL</label>
          <input class="form-control"
                 name="image"
                 [(ngModel)]="trip.image" />
        </div>

        <div class="mb-3">
          <label class="form-label">Description</label>
          <textarea class="form-control"
                    name="description"
                    rows="6"
                    [(ngModel)]="trip.description">
          </textarea>
        </div>

        <div *ngIf="trip.image" class="mb-3">
          <label class="form-label">Preview</label>
          <img [src]="trip.image" class="img-fluid rounded shadow-sm" />
        </div>
      </div>
    </div>

    <div class="mt-3 d-flex gap-2">
      <button class="btn btn-success"
              type="submit"
              [disabled]="!tripForm.form.valid">
        {{ isNew ? 'Add Trip' : 'Update Trip' }}
      </button>
      <button class="btn btn-secondary" type="button" (click)="onCancel()">Cancel</button>
    </div>

    <div *ngIf="statusMessage" class="alert alert-info mt-3">
      {{ statusMessage }}
    </div>
  </form>
</div>
